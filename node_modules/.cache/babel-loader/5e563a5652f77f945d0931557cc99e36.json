{"ast":null,"code":"import { AUTH_USER_SUCCESSFUL, AUTH_USER_LOGOUT, AUTH_SIGNUP_SUCCESSFUL, AUTH_USER_FAILURE } from '../actionTypes/actionTypes';\nimport setAuthToken from '../../lib/setAuthToken';\nimport Axios from '../../lib/Axios';\nexport const signup = userInfo => async dispatch => {\n  try {\n    let success = await Axios.post('/users/sign-up', userInfo);\n    dispatch(handleSignupSuccess(success.data.message));\n    return Promise.resolve(success.data.message);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n};\nexport const signin = userInfo => async dispatch => {\n  try {\n    let success = await Axios.post('/users/sign-in', userInfo);\n    const token = success.data.token.token;\n    dispatch(setAuthSuccessUser(token));\n    setAuthToken(token);\n    localStorage.setItem('jwtToken', token);\n    return Promise.resolve('Signin successful!');\n  } catch (error) {\n    console.log(error);\n    return Promise.reject(error);\n  }\n};\nexport const logout = () => dispatch => {\n  localStorage.removeItem('jwtToken');\n  setAuthToken(false);\n  dispatch({\n    type: AUTH_USER_LOGOUT\n  });\n};\nexport const setAuthSuccessUser = userInfo => dispatch => {\n  dispatch({\n    type: AUTH_USER_SUCCESSFUL,\n    payload: userInfo\n  });\n};\n\nconst handleSignupSuccess = message => dispatch => {\n  dispatch({\n    type: AUTH_SIGNUP_SUCCESSFUL,\n    payload: message\n  });\n};\n\nexport const handleErrorSignup = message => dispatch => {\n  dispatch({\n    type: AUTH_USER_FAILURE,\n    payload: message\n  });\n};","map":{"version":3,"sources":["/Users/pakchu/Desktop/CIM-All-Code/blog-auth-redux/src/redux/action/authUserAction.js"],"names":["AUTH_USER_SUCCESSFUL","AUTH_USER_LOGOUT","AUTH_SIGNUP_SUCCESSFUL","AUTH_USER_FAILURE","setAuthToken","Axios","signup","userInfo","dispatch","success","post","handleSignupSuccess","data","message","Promise","resolve","error","reject","signin","token","setAuthSuccessUser","localStorage","setItem","console","log","logout","removeItem","type","payload","handleErrorSignup"],"mappings":"AAAA,SAASA,oBAAT,EACSC,gBADT,EAESC,sBAFT,EAGSC,iBAHT,QAIe,4BAJf;AAKA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AAGA,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc,MAAMC,QAAN,IAAkB;AACpD,MAAI;AACF,QAAIC,OAAO,GAAG,MAAMJ,KAAK,CAACK,IAAN,CAAW,gBAAX,EAA6BH,QAA7B,CAApB;AACAC,IAAAA,QAAQ,CAACG,mBAAmB,CAACF,OAAO,CAACG,IAAR,CAAaC,OAAd,CAApB,CAAR;AACA,WAAOC,OAAO,CAACC,OAAR,CAAgBN,OAAO,CAACG,IAAR,CAAaC,OAA7B,CAAP;AACD,GAJD,CAIE,OAAOG,KAAP,EAAc;AACd,WAAOF,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD;AACF,CARM;AAUP,OAAO,MAAME,MAAM,GAAIX,QAAD,IAAc,MAAMC,QAAN,IAAkB;AACpD,MAAI;AACF,QAAIC,OAAO,GAAG,MAAMJ,KAAK,CAACK,IAAN,CAAW,gBAAX,EAA6BH,QAA7B,CAApB;AADE,UAGMY,KAHN,GAGgBV,OAAO,CAACG,IAAR,CAAaO,KAH7B,CAGMA,KAHN;AAKFX,IAAAA,QAAQ,CAACY,kBAAkB,CAACD,KAAD,CAAnB,CAAR;AACAf,IAAAA,YAAY,CAACe,KAAD,CAAZ;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,KAAjC;AACA,WAAOL,OAAO,CAACC,OAAR,CAAgB,oBAAhB,CAAP;AACD,GATD,CASE,OAAOC,KAAP,EAAc;AACdO,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACA,WAAOF,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD;AACF,CAdM;AAgBP,OAAO,MAAMS,MAAM,GAAG,MAAMjB,QAAQ,IAAI;AACrCa,EAAAA,YAAY,CAACK,UAAb,CAAwB,UAAxB;AACAtB,EAAAA,YAAY,CAAC,KAAD,CAAZ;AACAI,EAAAA,QAAQ,CAAC;AACPmB,IAAAA,IAAI,EAAE1B;AADC,GAAD,CAAR;AAGF,CANM;AAQP,OAAO,MAAMmB,kBAAkB,GAAIb,QAAD,IAAcC,QAAQ,IAAI;AAC1DA,EAAAA,QAAQ,CAAC;AACPmB,IAAAA,IAAI,EAAE3B,oBADC;AAEP4B,IAAAA,OAAO,EAAErB;AAFF,GAAD,CAAR;AAID,CALM;;AAOP,MAAMI,mBAAmB,GAAIE,OAAD,IAAaL,QAAQ,IAAI;AACnDA,EAAAA,QAAQ,CAAC;AACPmB,IAAAA,IAAI,EAAEzB,sBADC;AAEP0B,IAAAA,OAAO,EAAEf;AAFF,GAAD,CAAR;AAKD,CAND;;AAQA,OAAO,MAAMgB,iBAAiB,GAAIhB,OAAD,IAAaL,QAAQ,IAAI;AACxDA,EAAAA,QAAQ,CAAC;AACPmB,IAAAA,IAAI,EAAExB,iBADC;AAEPyB,IAAAA,OAAO,EAAEf;AAFF,GAAD,CAAR;AAID,CALM","sourcesContent":["import { AUTH_USER_SUCCESSFUL, \n         AUTH_USER_LOGOUT,\n         AUTH_SIGNUP_SUCCESSFUL, \n         AUTH_USER_FAILURE\n        } from '../actionTypes/actionTypes';\nimport setAuthToken from '../../lib/setAuthToken';\nimport Axios from '../../lib/Axios';\n\n\nexport const signup = (userInfo) => async dispatch => {\n  try {\n    let success = await Axios.post('/users/sign-up', userInfo);\n    dispatch(handleSignupSuccess(success.data.message));\n    return Promise.resolve(success.data.message)\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n\nexport const signin = (userInfo) => async dispatch => {\n  try {\n    let success = await Axios.post('/users/sign-in', userInfo);\n\n    const { token } = success.data.token;\n\n    dispatch(setAuthSuccessUser(token));\n    setAuthToken(token);\n    localStorage.setItem('jwtToken', token);\n    return Promise.resolve('Signin successful!');\n  } catch (error) {\n    console.log(error)\n    return Promise.reject(error);\n  }\n}\n\nexport const logout = () => dispatch => {\n   localStorage.removeItem('jwtToken');\n   setAuthToken(false);\n   dispatch({\n     type: AUTH_USER_LOGOUT\n   });\n}\n\nexport const setAuthSuccessUser = (userInfo) => dispatch => {\n  dispatch({\n    type: AUTH_USER_SUCCESSFUL,\n    payload: userInfo\n  })\n}\n\nconst handleSignupSuccess = (message) => dispatch => {\n  dispatch({\n    type: AUTH_SIGNUP_SUCCESSFUL,\n    payload: message\n  })\n\n}\n\nexport const handleErrorSignup = (message) => dispatch => {\n  dispatch({\n    type: AUTH_USER_FAILURE,\n    payload: message\n  })\n}\n\n"]},"metadata":{},"sourceType":"module"}